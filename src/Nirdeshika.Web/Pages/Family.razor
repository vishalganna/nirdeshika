@page "/families/{Id:int}"


@if (_isLoading)
{
    <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
}
else
{
    if (_family is null)
    {

    }
    else
    {
        <MudPaper Elevation="4" Class="pa-6 rounded-lg">
            <!-- Head of Family -->
            <MudGrid>
                <MudItem xs="12" sm="4" Class="d-flex justify-center align-center">
                    <MudAvatar Size="Size.Large"
                               Class="elevation-3"
                               Style="border: 4px solid var(--mud-palette-primary);" />
                </MudItem>
                <MudItem xs="12" sm="8">
                    <MudText Typo="Typo.h4">@_family.Head</MudText>
                    <MudText Typo="Typo.subtitle1">Family ID: @_family.Id</MudText>
                </MudItem>
            </MudGrid>

            <MudDivider Class="my-4" />

            <!-- Address -->
            <MudText Typo="Typo.h6" GutterBottom="true"><MudIcon Icon="@Icons.Material.Filled.Home" /> Address</MudText>
            <MudText>@_family.Address.Area</MudText>

            <MudDivider Class="my-4" />

            <!-- Members List -->
            <MudText Typo="Typo.h6" GutterBottom="true"><MudIcon Icon="@Icons.Material.Filled.Group" /> Family Members</MudText>

            @*             <MudTable Items="@_family.Members" Dense="true" Hover="true" Striped="true">
                <HeaderContent>
                    <MudTh>Name</MudTh>
                    <MudTh>Relation</MudTh>
                    <MudTh>Age</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd>@context.Name</MudTd>
                    <MudTd>@context.Relation</MudTd>
                    <MudTd>@context.Age</MudTd>
                </RowTemplate>
            </MudTable> *@

            <!-- Footer -->
            <MudCardActions Class="mt-6 justify-end">
                <MudButton StartIcon="@Icons.Material.Filled.ArrowBack"
                           Variant="Variant.Filled"
                           Color="@Color.Error"
                           OnClick="@(() => NavigationManager.NavigateTo("/families"))">
                    Back to List
                </MudButton>
            </MudCardActions>
        </MudPaper>
    }
}