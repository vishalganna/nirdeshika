@page "/surnames"
@using Nirdeshika.Application.Services
@using Nirdeshika.Application.DTOs
@inject ISurnameService SurnameService

<MudDataGrid Items="@_surnames" Loading="_isLoading" Striped="true" Bordered="true" Hover="true">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Surnames</MudText>
        <MudSpacer />
    </ToolBarContent>
    <Columns>
        <PropertyColumn Property="x => x.Id" />
        <PropertyColumn Property="x => x.Name" />
    </Columns>
</MudDataGrid>


@code {
    private bool _isLoading = true;
    private IEnumerable<SurnameDto> _surnames = [];

    protected override async Task OnInitializedAsync()
    {
        _surnames = await SurnameService.GetAllSurnamesAsync();
        _isLoading = false;
    }
}
